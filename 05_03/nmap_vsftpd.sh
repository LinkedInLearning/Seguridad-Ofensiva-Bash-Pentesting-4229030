#!/bin/bash

# Dirección IP del objetivo
TARGET_IP=$1

# Verificar si se ha proporcionado una IP
if [ -z "$TARGET_IP" ]; then
    echo "Uso: $0 <IP_objetivo>"
    exit 1
fi

# Escaneo de servicio FTP con Nmap
echo "Escaneando el servicio FTP en $TARGET_IP..."
nmap -sV -p 21 $TARGET_IP > nmap_results.txt

# Buscar la versión vulnerable de VSFTPD en los resultados
grep "vsftpd 2.3.4" nmap_results.txt

if [ $? -eq 0 ]; then
    echo "Servicio VSFTPD 2.3.4 detectado. Procediendo con el exploit."
else
    echo "Servicio VSFTPD 2.3.4 no detectado. Abortando."
    exit 1
fi
