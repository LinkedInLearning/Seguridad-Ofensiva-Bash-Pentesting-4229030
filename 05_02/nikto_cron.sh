#!/bin/bash

# Verificar si se proporciona un dominio o IP
if [ -z "$1" ]; then
    echo "Uso: $0 <dominio_o_IP>"
    exit 1
fi

TARGET=$1
DATE=$(date +"%Y-%m-%d")

# Crear directorio para guardar los resultados si no existe
mkdir -p resultados_diarios

# Realizar el escaneo con Nikto y guardar los resultados con la fecha actual
echo "Escaneando $TARGET con Nikto (Fecha: $DATE)..."
nikto -h "$TARGET" -o "resultados_diarios/$TARGET-$DATE.txt" -Format txt

echo "Escaneo completado. Resultados guardados en 'resultados_diarios/$TARGET-$DATE.txt'."


## edita el archivo crontab escribiendo en terminal >> crontab -e
## escribe en el archivo 0 2 * * * /ruta/al/script/nikto_daily_scan.sh example.com
