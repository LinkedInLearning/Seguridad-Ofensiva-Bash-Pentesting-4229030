#!/bin/bash

# Activar la salida inmediata ante errores
set -e

echo "Sección crítica del script donde no se permiten errores."

# Simular un error crítico (intenta copiar un archivo inexistente)
cp archivo_inexistente.txt /tmp/

# Desactivar la salida inmediata ante errores
set +e

echo "Sección no crítica del script donde los errores no detendrán la ejecución."

# Intentar eliminar un archivo que podría no existir (esto no detendrá el script)
rm /tmp/archivo_no_existente.txt

# Continuar con el script
echo "El script continúa después de la sección no crítica."

# Volver a activar la salida inmediata ante errores
set -e

# Sección crítica
touch /tmp/archivo_critico.txt
echo "Sección crítica finalizada."

