#!/bin/bash

# Activar el manejo de errores en tuberías y salida inmediata
set -o pipefail -e

echo "Sección crítica con tuberías donde no se permiten errores."

# Simular una operación con tuberías (esto fallará si algún comando de la tubería falla)
grep "patron" archivo_inexistente.txt | wc -l

# Desactivar el manejo de errores en tuberías
set +o pipefail +e

echo "Sección no crítica con tuberías."

# Simular una operación con tuberías que podría fallar (esto no detendrá el script)
cat archivo_inexistente.txt | grep "patron" || echo "Comando falló, pero el script continúa."

