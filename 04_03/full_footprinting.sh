#!/bin/bash

# Verificar si se proporciona un dominio como argumento
if [ -z "$1" ]; then
    echo "Uso: $0 <dominio>"
    exit 1
fi

domain=$1

# Crear un directorio para guardar los resultados
mkdir -p resultados
echo "Resultados se guardar치n en el directorio 'resultados'."

# 1. DNS Footprinting con nslookup, dig, y dnsenum
echo "Realizando DNS Footprinting..."
echo "Consultando registros DNS..."
nslookup -type=A $domain > resultados/dns_a_records.txt
nslookup -type=MX $domain > resultados/dns_mx_records.txt
nslookup -type=NS $domain > resultados/dns_ns_records.txt
dig $domain ANY > resultados/dig_results.txt
dnsenum $domain > resultados/dnsenum_results.txt

# 2. WHOIS Footprinting
echo "Consultando informaci칩n WHOIS..."
whois $domain > resultados/whois_results.txt

# 3. Web Footprinting con theHarvester y wget
echo "Realizando Web Footprinting..."
theHarvester -d $domain -l 500 -b google > resultados/harvester_results.txt
wget -r -l 2 -P ./resultados/web_content $domain

# 4. Sublist3r para enumeraci칩n de subdominios
echo "Enumerando subdominios con Sublist3r..."
sublist3r -d $domain -o resultados/subdomains.txt

echo "Recolecci칩n de datos completada. Los resultados se encuentran en el directorio 'resultados'."
